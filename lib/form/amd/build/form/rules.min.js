define("core_form/form/rules",["exports","./display"],(function(_exports,_display){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;return _exports.default=class{notchecked(target){const displayMap=this.form.mapTemplate();let lock=!1;return this.form.getDependantsOfType(target.name,"notchecked").forEach(((dependant,key)=>{lock=!!target.disabled||Boolean(key)!==target.checked,(0,_display.determineDisplayMap)(dependant,displayMap,lock)})),displayMap}checked(target){const displayMap=this.form.mapTemplate();let lock=!1;return this.form.getDependantsOfType(target.name,"checked").forEach(((dependant,key)=>{lock=!!target.disabled||Boolean(key)===target.checked,(0,_display.determineDisplayMap)(dependant,displayMap,lock)})),displayMap}eq(target){const displayMap=this.form.mapTemplate(),rTarget=this.getRadioFieldVal(target);let lock=!1;return this.form.getDependantsOfType(target.name,"eq").forEach(((dependant,key)=>"radio"===target.type?(lock=String(key)===String(rTarget.value),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)):"hidden"===target.type&&this.getHiddenCkbs(target)?(lock=target.checked===Boolean(key),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)):"checkbox"!==target.type||target.checked?void(target.classList.contains("filepickerhidden")?(lock=!M.form_filepicker.instances[target.id].fileadded,(0,_display.determineDisplayMap)(dependant,displayMap,lock)):(lock=target.value===key,(0,_display.determineDisplayMap)(dependant,displayMap,lock))):(lock=target.checked===Boolean(key),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)))),displayMap}neq(target){var _this$form$getDependa,_this$form$getDependa2,_this$form$getDependa3,_this$form$getDependa4,_this$form$getDependa5,_this$form$getDependa6;const displayMap=this.form.mapTemplate(),rTarget=this.getRadioFieldVal(target);let lock=!1;const maps=[...null!==(_this$form$getDependa=null===(_this$form$getDependa2=this.form.getDependantsOfType(target.name,"neq"))||void 0===_this$form$getDependa2?void 0:_this$form$getDependa2.entries())&&void 0!==_this$form$getDependa?_this$form$getDependa:[],...null!==(_this$form$getDependa3=null===(_this$form$getDependa4=this.form.getDependantsOfType(target.name,"ne"))||void 0===_this$form$getDependa4?void 0:_this$form$getDependa4.entries())&&void 0!==_this$form$getDependa3?_this$form$getDependa3:[],...null!==(_this$form$getDependa5=null===(_this$form$getDependa6=this.form.getDependantsOfType(target.name,"noteq"))||void 0===_this$form$getDependa6?void 0:_this$form$getDependa6.entries())&&void 0!==_this$form$getDependa5?_this$form$getDependa5:[]];return new Map(maps).forEach(((dependant,key)=>"radio"===target.type?(lock=String(key)!==String(rTarget.value),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)):"hidden"===target.type&&this.getHiddenCkbs(target)?(lock=target.checked!==Boolean(key),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)):"checkbox"!==target.type||target.checked?void(target.classList.contains("filepickerhidden")?(lock=!!M.form_filepicker.instances[target.id].fileadded,(0,_display.determineDisplayMap)(dependant,displayMap,lock)):(lock=target.value!==key,(0,_display.determineDisplayMap)(dependant,displayMap,lock))):(lock=target.checked===Boolean(key),void(0,_display.determineDisplayMap)(dependant,displayMap,lock)))),displayMap}in(target){const displayMap=this.form.mapTemplate();let lock=!1;return this.form.getDependantsOfType(target.name,"in").forEach(((dependant,key)=>{lock=key.split("|").includes(target.value),(0,_display.determineDisplayMap)(dependant,displayMap,lock)})),displayMap}getRadioFieldVal(target){return"radio"===target.type?this.form.form.elements.namedItem(target.name):target}getHiddenCkbs(target){return 0!==this.form.form.querySelectorAll('input[type=checkbox][name="'+target.name+'"]').length}constructor(form){var obj,key,value;value=void 0,(key="form")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.form=form}},_exports.default}));

//# sourceMappingURL=rules.min.js.map