define("core_form/form/rules",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;_exports.default=class{notchecked(target){const displayMap=mapTemplate();return this.getDependantsOfType(target.name,"notchecked").forEach(((dependant,key)=>{Boolean(key)===target.checked?showUnlock(dependant,displayMap):hideLock(dependant,displayMap)})),pruneEmptyDisplayOptions(displayMap)}checked(target){const displayMap=mapTemplate();return this.getDependantsOfType(target.name,"checked").forEach(((dependant,key)=>{Boolean(key)!==target.checked?showUnlock(dependant,displayMap):hideLock(dependant,displayMap)})),pruneEmptyDisplayOptions(displayMap)}eq(target){const displayMap=mapTemplate(),radioFieldVal="radio"===target.type?this.form.form.elements.namedItem(target.name):null;return this.getDependantsOfType(target.name,"eq").forEach(((dependant,key)=>{key===target.value||String(key)===String(null==radioFieldVal?void 0:radioFieldVal.value)?showUnlock(dependant,displayMap):hideLock(dependant,displayMap)})),pruneEmptyDisplayOptions(displayMap)}neq(target){const displayMap=mapTemplate();return this.getDependantsOfType(target.name,"neq").forEach(((dependant,key)=>{key!==target.value?hideLock(dependant,displayMap):showUnlock(dependant,displayMap)})),pruneEmptyDisplayOptions(displayMap)}in(target){const displayMap=mapTemplate();return this.getDependantsOfType(target.name,"in").forEach(((dependant,key)=>{key.split("|").includes(target.value)?hideLock(dependant,displayMap):showUnlock(dependant,displayMap)})),pruneEmptyDisplayOptions(displayMap)}getDependantsOfType(element,type){return this.form.getDependantsOfType(element,type)}constructor(form){var obj,key,value;value=void 0,(key="form")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.form=form}};const dependencyBehaviour_disable=0,dependencyBehaviour_hide=1,showUnlock=(dependant,displayMap)=>{dependant.hasOwnProperty(dependencyBehaviour_hide)&&displayMap.get("show").push(...dependant[dependencyBehaviour_hide]),dependant.hasOwnProperty(dependencyBehaviour_disable)&&displayMap.get("unlock").push(...dependant[dependencyBehaviour_disable])},hideLock=(dependant,displayMap)=>{dependant.hasOwnProperty(dependencyBehaviour_hide)&&displayMap.get("hide").push(...dependant[dependencyBehaviour_hide]),dependant.hasOwnProperty(dependencyBehaviour_disable)&&displayMap.get("lock").push(...dependant[dependencyBehaviour_disable])},mapTemplate=()=>new Map([["hide",[]],["show",[]],["lock",[]],["unlock",[]]]),pruneEmptyDisplayOptions=displayMap=>{for(const[key,value]of displayMap)0===value.length&&displayMap.delete(key);return displayMap};return _exports.default}));

//# sourceMappingURL=rules.min.js.map